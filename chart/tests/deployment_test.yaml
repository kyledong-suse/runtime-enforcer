suite: "Daemon DaemonSet Tests"
templates:
  - "templates/operator/deployment.yaml"

tests:
  - it: "should allow image, and imagePullPolicy to be overridden"
    set:
      operator:
        manager:
          replicas: 5
          image:
            repository: somewhere/daemon
            tag: v9.9.9
            pullPolicy: Always
    asserts:
      - equal:
          path: "spec.replicas"
          value: 5
      - equal:
          path: "spec.template.spec.containers[0].image"
          value: "somewhere/daemon:v9.9.9"
      - equal:
          path: "spec.template.spec.containers[0].imagePullPolicy"
          value: "Always"

